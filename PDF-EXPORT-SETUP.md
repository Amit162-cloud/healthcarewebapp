# PDF Export Feature - Setup Guide

## âœ… What's Been Added

### 1. PDF Export Utility (`src/lib/pdfExport.ts`)
- Professional PDF generation
- Hospital branding
- Summary statistics
- Resource tables by category
- Critical resources alert
- Auto-download functionality

### 2. Export Button in Resources Page
- "Export PDF" button (top right)
- Only shows in "My Hospital" view
- Only appears when resources exist
- Downloads PDF instantly

## Installation Required

You need to install two libraries. Run this command:

```bash
npm install jspdf jspdf-autotable
```

Or if using yarn:

```bash
yarn add jspdf jspdf-autotable
```

## PDF Features

### Header Section:
- âœ… Mint Health Hub logo/title
- âœ… Hospital name
- âœ… Generation date and time
- âœ… Generated by (user name)

### Summary Statistics:
- âœ… Total resources count
- âœ… Total capacity
- âœ… Total occupied
- âœ… Total available
- âœ… Overall utilization rate

### Resource Tables:
- âœ… Grouped by type (Beds, Oxygen, Blood, Ventilators)
- âœ… Columns: Name, Total, Occupied, Available, Usage %, Status
- âœ… Color-coded status indicators
- âœ… Professional grid layout

### Critical Resources Alert:
- âœ… Highlights low stock items
- âœ… Shows out-of-stock resources
- âœ… Red alert section

### Footer:
- âœ… Page numbers
- âœ… Confidential watermark
- âœ… Professional formatting

## How to Use

### Step 1: Install Libraries
```bash
cd mint-health-hub
npm install jspdf jspdf-autotable
```

### Step 2: Restart Dev Server
```bash
npm run dev
```

### Step 3: Test Export
1. Go to Resources page
2. Make sure you're in "My Hospital" view
3. Click "Export PDF" button (top right)
4. PDF downloads automatically!

## PDF Filename Format

```
Resources_[Hospital_Name]_[Date].pdf
```

Example:
```
Resources_City_General_Hospital_2026-02-21.pdf
```

## Customization

### Change PDF Colors
Edit `src/lib/pdfExport.ts`:

```typescript
const primaryColor = [34, 197, 94]; // RGB for green
const headerBg = [240, 253, 244];   // Light green background
```

### Change PDF Title
```typescript
doc.text('Your Hospital Name', 20, 20);
```

### Add Logo Image
```typescript
// Add this after creating doc
const logoImg = 'data:image/png;base64,...'; // Your logo
doc.addImage(logoImg, 'PNG', 150, 10, 40, 20);
```

### Change Table Styles
```typescript
headStyles: {
  fillColor: [34, 197, 94],  // Header color
  textColor: [255, 255, 255], // Text color
  fontStyle: 'bold',
  fontSize: 10
}
```

## PDF Content Structure

```
â”Œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”
â”‚ Header (Green background)           â”‚
â”‚ - Mint Health Hub                   â”‚
â”‚ - Hospital Name                     â”‚
â”‚ - Date/Time, Generated By           â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Summary Statistics Box              â”‚
â”‚ - Total Resources, Capacity, etc.   â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Beds Resources Table                â”‚
â”‚ - All bed resources                 â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Oxygen Resources Table              â”‚
â”‚ - All oxygen resources              â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Blood Bank Resources Table          â”‚
â”‚ - All blood resources               â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Ventilators Resources Table         â”‚
â”‚ - All ventilator resources          â”‚
â”œâ”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”¤
â”‚ Critical Resources Alert (if any)   â”‚
â”‚ - Low stock warnings                â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
â”‚ Footer: Page numbers, Confidential â”‚
â””â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”€â”˜
```

## Troubleshooting

### Error: Cannot find module 'jspdf'
**Solution:** Run `npm install jspdf jspdf-autotable`

### PDF not downloading
**Solution:** 
- Check browser console for errors
- Make sure you have resources data
- Try in a different browser

### PDF looks wrong
**Solution:**
- Clear browser cache
- Restart dev server
- Check if resources data is loaded

### Want to customize PDF
**Solution:** Edit `src/lib/pdfExport.ts` - all PDF generation code is there

## Browser Support

Works in all modern browsers:
- âœ… Chrome/Edge
- âœ… Firefox
- âœ… Safari
- âœ… Mobile browsers

## File Size

Typical PDF size: 50-200 KB depending on number of resources

## Security

- PDF contains current snapshot of data
- No sensitive authentication data included
- Safe to share with authorized personnel

## Files Changed

1. `src/lib/pdfExport.ts` - NEW (PDF generation logic)
2. `src/pages/Resources.tsx` - Added export button and handler
3. `package.json` - Will add jspdf dependencies

## Next Steps

1. âœ… Install libraries: `npm install jspdf jspdf-autotable`
2. âœ… Restart dev server
3. âœ… Test PDF export
4. â³ Customize PDF design (optional)
5. â³ Add hospital logo (optional)

## Summary

You now have a professional PDF export feature! Click "Export PDF" on the Resources page to download a formatted report of all your hospital resources.

The PDF includes summary statistics, detailed tables, and critical alerts - perfect for reports and documentation! ğŸ“„âœ¨
