# Resources Mock Data & PDF Export - Complete Setup âœ…

## What's Been Added

### 1. PDF Export Library (`src/lib/pdfExport.ts`)
Professional PDF generation with two export functions:

#### `exportResourcesToPDF()`
- Exports "My Hospital" resources
- Formatted slip with hospital branding
- Grouped by resource type (Beds, Oxygen, Blood, Ventilators)
- Usage statistics with progress bars
- Overall summary section
- Professional header and footer

#### `exportNetworkResourcesToPDF()`
- Exports network-wide resources
- Landscape orientation for wider tables
- Shows all hospitals in the network
- Grouped by resource type
- Hospital and city information included

### 2. Mock Data Generator
Two mock data functions added to Resources page:

#### `generateMockResources()`
Generates sample data for "My Hospital" view:
- 11 different resources
- 4 types: beds, oxygen, blood, ventilators
- Realistic occupancy rates
- Threshold alerts

#### `generateMockNetworkResources()`
Generates network data for 5 hospitals:
- City General Hospital (New York)
- Metro Care Hospital (Los Angeles)
- St. Mary's Medical Center (Chicago)
- Apollo Healthcare (Houston)
- Fortis Hospital (Phoenix)
- Random but realistic data for each hospital

### 3. Updated UI Features

#### New Buttons:
1. **"Use Mock Data"** toggle button
   - Switches between real database and mock data
   - Useful for testing and demos
   - Shows toast notification on switch

2. **"Export My Resources"** button (My Hospital view)
   - Downloads PDF of your hospital's resources
   - Professional formatted slip
   - Includes usage statistics

3. **"Export Network Report"** button (Network view)
   - Downloads PDF of all network resources
   - Landscape format for better readability
   - Shows all hospitals

## How to Use

### Testing with Mock Data:

1. Go to Resources page
2. Click **"Use Mock Data"** button
3. Data will load instantly (no database needed)
4. Switch between "My Hospital" and "Network View"
5. Click **"Use Mock Data"** again to switch back to real data

### Exporting PDFs:

#### My Hospital Resources:
1. Go to "My Hospital" tab
2. Make sure you have resources (use mock data if needed)
3. Click **"Export My Resources"**
4. PDF downloads automatically with filename: `HospitalName_Resources_2024-02-21.pdf`

#### Network Resources:
1. Go to "Network View" tab
2. Make sure network resources are loaded
3. Click **"Export Network Report"**
4. PDF downloads automatically with filename: `Network_Resources_2024-02-21.pdf`

## PDF Features

### My Hospital PDF Includes:
- âœ… Hospital name and branding
- âœ… Generated by (user name)
- âœ… Date and time
- âœ… Resources grouped by type
- âœ… Usage percentage with visual indicators
- âœ… Status indicators (Low/Medium/Good)
- âœ… Overall summary with totals
- âœ… Professional header with logo
- âœ… Page numbers and footers

### Network PDF Includes:
- âœ… All hospitals in network
- âœ… Hospital names and cities
- âœ… Resources grouped by type
- âœ… Landscape orientation for better viewing
- âœ… Usage statistics
- âœ… Professional formatting
- âœ… Page numbers

## Mock Data Details

### My Hospital Mock Data:
```
Beds:
- General Ward: 120 total, 95 occupied, 25 available
- ICU: 30 total, 27 occupied, 3 available
- Private Room: 40 total, 32 occupied, 8 available

Oxygen:
- Oxygen Cylinders: 200 total, 145 occupied, 55 available
- Oxygen Concentrators: 50 total, 38 occupied, 12 available

Blood Bank:
- A+ Blood: 50 total, 35 occupied, 15 available
- B+ Blood: 40 total, 28 occupied, 12 available
- O+ Blood: 60 total, 48 occupied, 12 available
- AB- Blood: 20 total, 18 occupied, 2 available

Ventilators:
- Ventilators: 50 total, 38 occupied, 12 available
- BiPAP Machines: 25 total, 20 occupied, 5 available
```

### Network Mock Data:
- 5 hospitals with varying resources
- Each hospital has 6-7 resources
- Random but realistic occupancy rates
- Different capacities per hospital

## Technical Details

### Dependencies Used:
- `jspdf` - PDF generation
- `jspdf-autotable` - Table formatting in PDFs

### Files Modified:
1. `src/lib/pdfExport.ts` - NEW (PDF export functions)
2. `src/pages/Resources.tsx` - UPDATED (mock data + export buttons)
3. `src/context/AppContext.tsx` - UPDATED (added hospital_id to Resource interface)

### TypeScript Interfaces:
```typescript
interface Resource {
  id: string;
  name: string;
  type: string;
  total: number;
  occupied: number;
  available: number;
  threshold?: number;
  hospital_id?: string;
}

interface NetworkResource extends Resource {
  hospital: string;
  city: string;
  hospital_id: string;
}
```

## Troubleshooting

### PDF Not Downloading?
- Check browser's download settings
- Make sure pop-ups are not blocked
- Check browser console for errors

### Mock Data Not Showing?
- Click "Use Mock Data" button
- Check that button shows "Using Mock Data" (green)
- Refresh the page if needed

### TypeScript Errors?
- Restart TypeScript server: Ctrl+Shift+P â†’ "TypeScript: Restart TS Server"
- The pdfExport module might need a server restart to be recognized

## Benefits

### For Development:
- âœ… Test UI without database setup
- âœ… Demo features to stakeholders
- âœ… Consistent test data
- âœ… Fast iteration

### For Users:
- âœ… Professional PDF reports
- âœ… Easy data sharing
- âœ… Printable resource slips
- âœ… Network-wide visibility

### For Admins:
- âœ… Quick resource overview
- âœ… Exportable reports for meetings
- âœ… Historical documentation
- âœ… Compliance and auditing

## Next Steps

1. Test mock data functionality
2. Export sample PDFs
3. Customize PDF branding if needed
4. Add more mock data scenarios (optional)
5. Implement PDF email functionality (future enhancement)

---

**Everything is ready to use!** Click "Use Mock Data" to test, and use the export buttons to generate professional PDF reports. ðŸŽ‰
